# Home work 2

Система на docker-compose и 2 dockerfiles, реализующие следующий набор задач.

### Сервис-1.
 База данных. Сервис запускается, ожидает входящих соединений на своем порту.

### Сервис-2.
 Контейнер со скриптом для наполнения базы. Сервис запускается, подключается по порту к базе данных и заполняет базу набором данных. Набор данных представлен CSV-файлом из 5 строк. В каждой строке 2 поля: текст и число (данные могут быть любые). Сервис-2 стартует после старта сервиса-1 и завершается (убивается контейнер) после выполнения.

### Сервис-3.
 Контейнер с демоном отдающим из базы эти данные по http-запросу. Демон умеет принимать http запрос, соединяется с контейнером базы через порт базы, делает запрос, получает ответ, отдает данные в http ответе. Для реализации REST API по умолчанию можно использовать flask. В README или в комментариях в Dockerfile нужно указать, по какому порту должен подключиться пользователь чтоб получить данные.


## Run

Запуск docker-compose с последующим удалением контейнеров
```
docker-compose up --build && docker-compose rm -fsv
```

### Web-server

Получение всех данных в виде JSON
```
GET 0.0.0.0:5000/
```

Возвращает 200
```
GET 0.0.0.0:5000/health
```

Удаление образов с тегом ```<None>```
```
sudo docker rmi $(docker images --filter "dangling=true" -q --no-trunc)
```